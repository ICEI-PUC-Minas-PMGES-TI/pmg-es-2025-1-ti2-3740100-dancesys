<main class="py-4 max-w-full max-h-full h-full">
	<section class="flex flex-col pb-4 max-w-full">
		<div class="flex flex-row space-x-4">
			<h1 class="text-main-500 text-xl font-bold">Eventos Disponíveis</h1>
		</div>

		<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mt-4">
			<div
				*ngFor="let evento of eventos?.conteudo"
				class="border rounded-lg p-4 shadow-md bg-white"
			>
				<img
					[ngClass]="{ hidden: !evento.urlFoto }"
					[src]="evento.urlFoto"
					alt="{{ evento.nome }}"
					class="w-full h-48 object-cover rounded-lg mb-4"
				/>
				<h2 class="font-semibold text-lg">{{ evento.nome }}</h2>
				<p class="text-sm text-gray-600">{{ evento.local }}</p>
				<p class="text-sm text-gray-500">
					{{ evento.dataHoraInicio | date : "dd/MM/yyyy HH:mm" }} -
					{{ evento.dataHoraFim | date : "dd/MM/yyyy HH:mm" }}
				</p>
				<p class="mt-2 text-sm">Preço: R$ {{ evento.valor }}</p>
				<button
					class="bg-blue-500 text-white py-2 px-4 rounded-lg mt-4 hover:bg-blue-600"
					(click)="
						evento.id !== undefined
							? comprarIngresso(evento.id)
							: null
					"
				>
					Comprar Ingresso
				</button>
			</div>
		</div>
	</section>

	<div *ngIf="isModalOpen" class="modal-overlay">
		<div class="modal-content">
			<h2 class="font-semibold text-lg">Compra de Ingresso</h2>
			<form (ngSubmit)="processarCompra()" [formGroup]="ingressoForm">
				<label for="qtdIngressos" class="text-sm"
					>Quantidade de Ingressos</label
				>
				<input
					id="qtdIngressos"
					type="number"
					formControlName="qtdIngressos"
					min="1"
					max="10"
					class="w-full p-2 rounded-md border"
				/>

				<label for="tipoIngresso" class="mt-3 text-sm"
					>Tipo de Ingresso</label
				>
				<select
					formControlName="tipoIngresso"
					class="w-full p-2 rounded-md border"
				>
					<option value="normal">Entrada Normal</option>
					<option value="meio">Meio Ingresso</option>
				</select>

				<button
					type="submit"
					class="mt-4 w-full bg-main-500 text-white p-2 rounded-md"
				>
					Comprar Ingresso
				</button>
				<button
					type="button"
					class="mt-2 w-full bg-red-500 text-white p-2 rounded-md"
					(click)="fecharModal()"
				>
					Fechar
				</button>
			</form>
		</div>
	</div>
</main>
